(this["webpackJsonpalkemy-challenge"]=this["webpackJsonpalkemy-challenge"]||[]).push([[0],{49:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(39),i=n.n(s),a=(n(49),n(10)),l=n(2),o=n(44),j=n(15),d=n(18),u=n.n(d),b="/api/1589203874773447/",h=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,m=n(1),x=n(0),O=x.createContext,p=x.useState,g=O({logged:!1,doLogin:function(){return null}}),f=function(e){var t=e.children,n=localStorage.getItem("token"),c=p(!!n),r=Object(j.a)(c,2),s=r[0],i=r[1],a=Object(l.g)();return Object(m.jsx)(g.Provider,{value:{logged:s,doLogin:function(e,t){u.a.post("http://challenge-react.alkemy.org/",{email:e,password:t}).then((function(e){i(!0),localStorage.setItem("token",e.data.token),a.push("/home")})).catch((function(){alert("Credenciales inv\xe1lidas")}))}},children:t})};var v=function(e){return Object(c.useContext)(g).logged?Object(m.jsx)(l.b,Object(o.a)({},e)):Object(m.jsx)(l.a,{to:"/login"})},y=n(43),C=n(0),F=C.createContext,w=C.useState,S=F({searchResults:[],searchIsLoading:!1,search:function(){return null},heroDetails:null,loadHeroDetails:function(){return null},team:[],addToTeam:function(){return null},removeFromTeam:function(){return null}}),k=function(e){var t=e.children,n=localStorage.getItem("team")||"[]",c=w([]),r=Object(j.a)(c,2),s=r[0],i=r[1],a=w(!1),o=Object(j.a)(a,2),d=o[0],h=o[1],x=w(null),O=Object(j.a)(x,2),p=O[0],g=O[1],f=w(JSON.parse(n)),v=Object(j.a)(f,2),C=v[0],F=v[1],k=Object(l.g)();return Object(m.jsx)(S.Provider,{value:{searchResults:s,search:function(e){h(!0),u.a.get("".concat(b,"search/").concat(e)).then((function(e){i(e.data.results||[])})).catch((function(){})).finally((function(){h(!1)}))},searchIsLoading:d,loadHeroDetails:function(e){g(null),u.a.get("".concat(b).concat(e)).then((function(e){g(e.data)}))},heroDetails:p,team:C,addToTeam:function(e){if("neutral"!==e.biography.alignment){var t=C.filter((function(e){return"good"===e.biography.alignment})).length,n=C.filter((function(e){return"bad"===e.biography.alignment})).length;if(3!==t||"good"!==e.biography.alignment)if(3!==n||"bad"!==e.biography.alignment){var c=[].concat(Object(y.a)(C),[e]);F(c),localStorage.setItem("team",JSON.stringify(c)),alert("Se agreg\xf3 el h\xe9roe al equipo con \xe9xito"),k.push("/home")}else alert("Ya tienes 3 h\xe9roes malos");else alert("Ya tienes 3 h\xe9roes buenos")}else alert("Solo buenos o malos")},removeFromTeam:function(e){var t=C.filter((function(t){return t.id!==e}));F(t),localStorage.setItem("team",JSON.stringify(t)),alert("Se elimin\xf3 el h\xe9roe del equipo con \xe9xito"),k.push("/home")}},children:t})},T=n(13);n(73);var I=function(){var e=Object(c.useContext)(S),t=e.heroDetails,n=e.loadHeroDetails,r=e.addToTeam,s=e.removeFromTeam,i=e.team,o=Object(l.h)();if(Object(c.useEffect)((function(){n(o.id)}),[]),!t)return Object(m.jsx)("h1",{children:"Cargando..."});var j=i.find((function(e){return e.id===t.id}));return Object(m.jsxs)("div",{class:"container card",children:[Object(m.jsx)("div",{class:"text-center",children:Object(m.jsxs)("h1",{class:"font-weight-bold superFont  btn-detail ",children:[t.name,"\xa0",!j&&Object(m.jsxs)("button",{class:" btn btn-primary mt-3 ",onClick:function(){return r(t)},children:[Object(m.jsx)(T.b,{})," Agregar al equipo"]}),j&&Object(m.jsxs)("button",{onClick:function(){return s(t.id)},children:[Object(m.jsx)(T.c,{})," Eliminar del equipo"]})]})}),Object(m.jsx)("img",{src:t.image.url,class:"img-results img-search",alt:""}),Object(m.jsxs)("div",{class:"font-weight-bold superFont text-center  py-2",children:[Object(m.jsxs)("p",{children:["Peso: ",t.appearance.weight[1]]}),Object(m.jsxs)("p",{children:["Altura: ",t.appearance.height[1]]}),Object(m.jsxs)("p",{children:["Nombre real: ",t.biography["full-name"]]}),Object(m.jsxs)("p",{children:["Alias: ",t.biography.aliases.join(", ")]}),Object(m.jsxs)("p",{children:["Color de ojos: ",t.appearance["eye-color"]]}),Object(m.jsxs)("p",{children:["Color de cabello: ",t.appearance["hair-color"]]}),Object(m.jsxs)("p",{children:["Trabajo: ",t.work.occupation]}),Object(m.jsx)(a.b,{to:"/search",class:"btn btn-danger  btn-detail",children:"volver"})]})]})},D=(n(74),function(e,t){return e.reduce((function(e,n){return e+Number(n.powerstats[t])}),0)/e.length}),N=function(e,t){return e.reduce((function(e,t){return e+Number(t.appearance.weight[1].replace(" kg",""))}),0)/e.length},q=function(e,t){return e.reduce((function(e,t){return e+Number(t.appearance.height[1].replace(" cm",""))}),0)/e.length};var E=function(){var e=Object(c.useContext)(S),t=e.team,n=e.removeFromTeam,r="",s=D(t,"combat"),i=D(t,"durability"),l=D(t,"intelligence"),o=D(t,"power"),j=D(t,"speed"),d=D(t,"strength");return[i,l,o,j,d].every((function(e){return e<s}))&&(r="Combate"),[s,i,l,o,j,d].every((function(e){return e<i}))&&(r="Durabilidad"),[s,i,o,j,d].every((function(e){return e<l}))&&(r="Inteligencia"),[s,i,l,j,d].every((function(e){return e<o}))&&(r="Poder"),[s,i,l,o,d].every((function(e){return e<j}))&&(r="Velocidad"),[s,i,l,o,j].every((function(e){return e<d}))&&(r="Fuerza"),Object(m.jsx)("div",{class:"container",children:Object(m.jsx)("div",{class:"text-center",children:Object(m.jsxs)("div",{class:"font-weight-bold superFont mt-4",children:[Object(m.jsx)("h1",{children:"Equipo"}),Object(m.jsx)("div",{children:Object(m.jsx)("ul",{class:"text-style",children:t.map((function(e){return Object(m.jsxs)("li",{children:[e.name,"\xa0",Object(m.jsx)("button",{class:"btn ml-5",onClick:function(){return n(e.id)},children:Object(m.jsx)(T.c,{})})]})}))})}),Object(m.jsxs)("div",{class:"font-weight-bold superFont text-center  py-2",children:[Object(m.jsx)("h3",{children:"Estad\xedsticas"}),Object(m.jsx)("div",{class:"selec-hero",children:Object(m.jsxs)("ul",{class:"text-style ",children:[Object(m.jsx)("li",{children:Object(m.jsxs)("p",{children:["Mejor estad\xedstica: ",r]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Peso promedio: ",N(t).toFixed(2)," kg"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Altura promedio: ",q(t).toFixed(2)," ","cm"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Combate: ",s.toFixed(2)]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Durabilidad: ",i.toFixed(2)]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Inteligencia: ",l.toFixed(2)]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Poder: ",o.toFixed(2)]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Velocidad: ",j.toFixed(2)]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("span",{children:["Fuerza: ",d.toFixed(2)]})})]})})]}),Object(m.jsx)("h2",{children:"Forma tu equipo!!"}),Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(a.b,{to:"/search",class:"btn btn-primary",children:"Buscar"})})})]})})})},L=n(25);n(75),n(76);var P=function(){var e=Object(c.useContext)(g).doLogin,t=Object(L.a)({initialValues:{email:"",password:""},onSubmit:function(t){e(t.email,t.password)},validate:function(e){var t={};return e.email?h.test(e.email)||(t.email="Email inv\xe1lido"):t.email="Email requerido",e.password||(t.password="Contrase\xf1a requerida"),t}});return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{class:"",children:Object(m.jsx)("div",{class:"",children:Object(m.jsx)("div",{class:" ",children:Object(m.jsxs)("form",{class:"box ",onSubmit:t.handleSubmit,children:[Object(m.jsx)("div",{class:"",children:Object(m.jsx)("h1",{children:"Superhero"})}),Object(m.jsxs)("div",{class:"",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{type:"email",id:"email",onChange:t.handleChange,value:t.values.email}),Object(m.jsx)("span",{children:t.errors.email})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(m.jsx)("input",{type:"password",id:"password",onChange:t.handleChange,value:t.values.password}),Object(m.jsx)("span",{children:t.errors.password})]}),Object(m.jsx)("button",{type:"submit",className:"submit",children:"Submit"})]})})})})})};n(77);var A=function(){var e=Object(c.useContext)(S),t=e.search,n=e.searchResults,r=e.searchIsLoading,s=Object(L.a)({initialValues:{name:""},onSubmit:function(e){t(e.name)}});return Object(m.jsx)("div",{class:"wrapper",children:Object(m.jsxs)("div",{class:"row",children:[Object(m.jsx)("div",{class:"back-icon",children:Object(m.jsxs)(a.b,{to:"/heroDetails",children:[Object(m.jsx)(T.a,{}),"Home"]})}),Object(m.jsx)("form",{className:"card d-flex align-items-center  ",onSubmit:s.handleSubmit,children:Object(m.jsxs)("div",{class:"card-body text-center col-md-4 input-n my-auto my-auto",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("label",{htmlFor:"name",class:" my-2 h4 superFont",children:["Busca por nombre :"," "]}),Object(m.jsx)("div",{class:"col",children:Object(m.jsx)("input",{class:"form-control text-center form-control-lg form-control-borderless",type:"search",id:"name",onChange:s.handleChange,value:s.values.name})})]}),Object(m.jsx)("div",{class:"col-auto",children:Object(m.jsx)("button",{class:"btn btn-lg btn-success my-3",type:"submit",children:"Buscar"})})]})}),r&&Object(m.jsx)("h3",{children:"Cargando..."}),Object(m.jsx)("ul",{class:"img-results text-center  img-position",children:n.map((function(e){return Object(m.jsx)("div",{class:"img-results  ",children:Object(m.jsx)("li",{class:"list-img  ",children:Object(m.jsxs)(a.b,{to:"/details/".concat(e.id),children:[Object(m.jsx)("img",{class:"img-thumbnail img-search  ",src:e.image.url,height:"80",alt:""}),Object(m.jsx)("figcaption",{class:"results-name ",children:e.name})]})})})}))})]})})};n(78);var z=function(){return Object(m.jsx)(a.a,{children:Object(m.jsx)(f,{children:Object(m.jsx)(k,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{path:"/login",component:P}),Object(m.jsx)(v,{path:"/home",component:E}),Object(m.jsx)(v,{path:"/search",component:A}),Object(m.jsx)(v,{path:"/details/:id",component:I}),Object(m.jsx)(l.a,{to:"/home"})]})})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root")),B()}},[[79,1,2]]]);
//# sourceMappingURL=main.38661717.chunk.js.map